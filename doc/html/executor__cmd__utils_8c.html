<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Minishell: Référence du fichier source/executor/executor_cmd_utils.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Minishell<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Un interpréteur de commandes minimaliste implémenté en C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Recherche',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('executor__cmd__utils_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Fonctions</a>  </div>
  <div class="headertitle"><div class="title">Référence du fichier executor_cmd_utils.c</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="minishell_8h_source.html">../../include/minishell.h</a>&quot;</code><br />
</div>
<p><a href="executor__cmd__utils_8c_source.html">Aller au code source de ce fichier.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:afc17c7f5a19c7e9a7e66df3bec4c7341" id="r_afc17c7f5a19c7e9a7e66df3bec4c7341"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc17c7f5a19c7e9a7e66df3bec4c7341">is_directory</a> (char *path)</td></tr>
<tr class="memdesc:afc17c7f5a19c7e9a7e66df3bec4c7341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vérifie si un chemin correspond à un répertoire.  <br /></td></tr>
<tr class="separator:afc17c7f5a19c7e9a7e66df3bec4c7341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe0c8b4cb2ef1ee0cb91540c0db15363" id="r_abe0c8b4cb2ef1ee0cb91540c0db15363"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe0c8b4cb2ef1ee0cb91540c0db15363">handle_direct_path</a> (char *cmd)</td></tr>
<tr class="memdesc:abe0c8b4cb2ef1ee0cb91540c0db15363"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère les chemins directs (absolus ou relatifs avec .  <br /></td></tr>
<tr class="separator:abe0c8b4cb2ef1ee0cb91540c0db15363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab034e34d45cf715a4b973dd5dfb59605" id="r_ab034e34d45cf715a4b973dd5dfb59605"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab034e34d45cf715a4b973dd5dfb59605">update_cmd_from_tokens</a> (char **cmd, <a class="el" href="minishell_8h.html#aead06bc7a81ebdd60cbdcf6b3b8e51d4">t_token</a> *tokens)</td></tr>
<tr class="memdesc:ab034e34d45cf715a4b973dd5dfb59605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Met à jour un tableau de commandes avec les valeurs des tokens.  <br /></td></tr>
<tr class="separator:ab034e34d45cf715a4b973dd5dfb59605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e08a3faa8e86d1ba654fdf47673a51" id="r_a60e08a3faa8e86d1ba654fdf47673a51"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60e08a3faa8e86d1ba654fdf47673a51">handle_special_commands</a> (char **cmd)</td></tr>
<tr class="memdesc:a60e08a3faa8e86d1ba654fdf47673a51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère les commandes spéciales "." et "..".  <br /></td></tr>
<tr class="separator:a60e08a3faa8e86d1ba654fdf47673a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29bf2297ae33b0490fa31924cf123e5" id="r_aa29bf2297ae33b0490fa31924cf123e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa29bf2297ae33b0490fa31924cf123e5">execute_with_path</a> (char *path, char **cmd, char **envp)</td></tr>
<tr class="memdesc:aa29bf2297ae33b0490fa31924cf123e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exécute une commande avec un chemin spécifique.  <br /></td></tr>
<tr class="separator:aa29bf2297ae33b0490fa31924cf123e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentation des fonctions</h2>
<a id="aa29bf2297ae33b0490fa31924cf123e5" name="aa29bf2297ae33b0490fa31924cf123e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29bf2297ae33b0490fa31924cf123e5">&#9670;&#160;</a></span>execute_with_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int execute_with_path </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>envp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exécute une commande avec un chemin spécifique. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Chemin vers l'exécutable </td></tr>
    <tr><td class="paramname">cmd</td><td>Tableau des arguments de la commande </td></tr>
    <tr><td class="paramname">envp</td><td>Tableau des variables d'environnement </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int Code de retour (126 pour erreurs diverses)</dd></dl>
<p>Cette fonction :</p><ol type="1">
<li>Vérifie que le chemin n'est pas un répertoire</li>
<li>Vérifie les permissions d'exécution</li>
<li>Exécute la commande avec execve()</li>
</ol>
<p>Codes de retour :</p><ul>
<li>126 : Répertoire au lieu d'exécutable, permission refusée, ou erreur execve</li>
</ul>
<p>Libère toujours le chemin avant de retourner. </p>

<p class="definition">Définition à la ligne <a class="el" href="executor__cmd__utils_8c_source.html#l00126">126</a> du fichier <a class="el" href="executor__cmd__utils_8c_source.html">executor_cmd_utils.c</a>.</p>

<p class="reference">Références <a class="el" href="executor__cmd__utils_8c_source.html#l00025">is_directory()</a>.</p>

</div>
</div>
<a id="abe0c8b4cb2ef1ee0cb91540c0db15363" name="abe0c8b4cb2ef1ee0cb91540c0db15363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe0c8b4cb2ef1ee0cb91540c0db15363">&#9670;&#160;</a></span>handle_direct_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * handle_direct_path </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère les chemins directs (absolus ou relatifs avec . </p>
<p>/)</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>Commande à analyser </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>char* Copie du chemin si direct, NULL sinon</dd></dl>
<p>Détermine si une commande utilise un chemin direct :</p><ul>
<li>Chemin absolu : commence par '/'</li>
<li>Chemin relatif : commence par './' Si c'est le cas, retourne une copie du chemin, sinon NULL. Le résultat doit être libéré par l'appelant. </li>
</ul>

<p class="definition">Définition à la ligne <a class="el" href="executor__cmd__utils_8c_source.html#l00046">46</a> du fichier <a class="el" href="executor__cmd__utils_8c_source.html">executor_cmd_utils.c</a>.</p>

<p class="reference">Référencé par <a class="el" href="executor__cmd__utils3_8c_source.html#l00126">exec_external()</a>, <a class="el" href="executor__cmd_8c_source.html#l00072">exec_external()</a>, et <a class="el" href="executor__pipe__utils_8c_source.html#l00128">execute_cmd_builtin_or_exec()</a>.</p>

</div>
</div>
<a id="a60e08a3faa8e86d1ba654fdf47673a51" name="a60e08a3faa8e86d1ba654fdf47673a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e08a3faa8e86d1ba654fdf47673a51">&#9670;&#160;</a></span>handle_special_commands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int handle_special_commands </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère les commandes spéciales "." et "..". </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>Tableau des arguments de la commande </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int Code d'erreur spécifique (2 pour ".", 127 pour ".."), 0 si pas spéciale</dd></dl>
<p>Traite deux cas spéciaux :</p><ul>
<li>"." : Affiche un message d'erreur indiquant qu'un fichier est requis (code 2)</li>
<li>".." : Affiche "command not found" (code 127) Ces commandes ont des comportements particuliers dans bash et nécessitent un traitement spécial. </li>
</ul>

<p class="definition">Définition à la ligne <a class="el" href="executor__cmd__utils_8c_source.html#l00092">92</a> du fichier <a class="el" href="executor__cmd__utils_8c_source.html">executor_cmd_utils.c</a>.</p>

<p class="reference">Référencé par <a class="el" href="executor__cmd__utils3_8c_source.html#l00126">exec_external()</a>, et <a class="el" href="executor__cmd_8c_source.html#l00072">exec_external()</a>.</p>

</div>
</div>
<a id="afc17c7f5a19c7e9a7e66df3bec4c7341" name="afc17c7f5a19c7e9a7e66df3bec4c7341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc17c7f5a19c7e9a7e66df3bec4c7341">&#9670;&#160;</a></span>is_directory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_directory </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vérifie si un chemin correspond à un répertoire. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Chemin à vérifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int 1 si c'est un répertoire, 0 sinon</dd></dl>
<p>Utilise la fonction stat() pour obtenir les informations sur le fichier et vérifie si c'est un répertoire avec la macro S_ISDIR. Retourne 0 si stat() échoue (fichier inexistant ou inaccessible). </p>

<p class="definition">Définition à la ligne <a class="el" href="executor__cmd__utils_8c_source.html#l00025">25</a> du fichier <a class="el" href="executor__cmd__utils_8c_source.html">executor_cmd_utils.c</a>.</p>

<p class="reference">Référencé par <a class="el" href="executor__cmd__utils_8c_source.html#l00126">execute_with_path()</a>.</p>

</div>
</div>
<a id="ab034e34d45cf715a4b973dd5dfb59605" name="ab034e34d45cf715a4b973dd5dfb59605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab034e34d45cf715a4b973dd5dfb59605">&#9670;&#160;</a></span>update_cmd_from_tokens()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_cmd_from_tokens </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="minishell_8h.html#aead06bc7a81ebdd60cbdcf6b3b8e51d4">t_token</a> *</td>          <td class="paramname"><span class="paramname"><em>tokens</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Met à jour un tableau de commandes avec les valeurs des tokens. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>Tableau de chaînes à mettre à jour </td></tr>
    <tr><td class="paramname">tokens</td><td>Liste chaînée de tokens contenant les nouvelles valeurs</td></tr>
  </table>
  </dd>
</dl>
<p>Remplace les éléments du tableau cmd par les valeurs des tokens. Libère d'abord chaque ancienne chaîne avant de la remplacer par une copie de la valeur du token correspondant. S'arrête quand il n'y a plus de tokens ou plus d'éléments dans cmd. </p>

<p class="definition">Définition à la ligne <a class="el" href="executor__cmd__utils_8c_source.html#l00064">64</a> du fichier <a class="el" href="executor__cmd__utils_8c_source.html">executor_cmd_utils.c</a>.</p>

<p class="reference">Références <a class="el" href="minishell_8h_source.html#l00091">s_token::next</a>, et <a class="el" href="minishell_8h_source.html#l00088">s_token::value</a>.</p>

<p class="reference">Référencé par <a class="el" href="executor__cmd__utils4_8c_source.html#l00097">expand_cmd_with_original_tokens()</a>, <a class="el" href="executor__pipe__utils_8c_source.html#l00096">prepare_cmd_tokens()</a>, et <a class="el" href="executor__cmd__utils4_8c_source.html#l00126">process_cmd_tokens()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_52f707c78a10cfe2c50fe96dcb867306.html">executor</a></li><li class="navelem"><a class="el" href="executor__cmd__utils_8c.html">executor_cmd_utils.c</a></li>
    <li class="footer">Généré par <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
